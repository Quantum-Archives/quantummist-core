<!-- ishkarim:ui:leftmenu.html -->
<!--
Lewe menu tematyczne z trybem odbioru i dostępem do treści uniwersalnych (nie paneli systemowych użytkownika).
Tryby eksploracji pojawiają się dopiero po najechaniu na grafikę.
-->
<div id="leftmenu" class="fixed top-0 left-0 h-full w-[220px] bg-[#0f0c29] text-white shadow-2xl z-50 p-4 flex flex-col gap-3 overflow-y-auto">
  <h2 class="text-lg font-semibold tracking-wide">Tematy eksploracyjne</h2>

  <div class="flex flex-col gap-2 text-sm">
    <!-- Sekcje z trybami -->
    <div class="relative group">
      <button class="hover:bg-[#1a1a40] px-3 py-2 rounded flex items-center gap-2 w-full">☀️ <span>Horoskop</span></button>
      <div class="absolute left-[220px] top-0 w-[210px] h-[95px] bg-black/80 text-white p-2 hidden group-hover:flex flex-col items-center justify-center rounded-lg shadow-xl transition duration-300">
        <img src="/img/horoskop.jpg" alt="horoskop" class="w-[210px] h-[55px] object-cover rounded mb-2" onmouseenter="showToneButtons(this)">
        <div class="hidden tone-buttons flex gap-2">
          <button onclick="enterWithTone('zadaniowiec', 'horoskop')" class="bg-[#0ff] text-black rounded p-1 text-xs">⚙️</button>
          <button onclick="enterWithTone('wrazliwy', 'horoskop')" class="bg-[#9f7aea] text-white rounded p-1 text-xs">🌊</button>
          <button onclick="enterWithTone('opiekun', 'horoskop')" class="bg-[#fbbf24] text-black rounded p-1 text-xs">🕯️</button>
        </div>
      </div>
    </div>

    <div class="relative group">
      <button class="hover:bg-[#1a1a40] px-3 py-2 rounded flex items-center gap-2 w-full">🌌 <span>Kosmogram</span></button>
      <div class="absolute left-[220px] top-0 w-[210px] h-[95px] bg-black/80 text-white p-2 hidden group-hover:flex flex-col items-center justify-center rounded-lg shadow-xl transition duration-300">
        <img src="/img/kosmogram.jpg" alt="kosmogram" class="w-[210px] h-[55px] object-cover rounded mb-2" onmouseenter="showToneButtons(this)">
        <div class="hidden tone-buttons flex gap-2">
          <button onclick="enterWithTone('zadaniowiec', 'kosmogram')" class="bg-[#0ff] text-black rounded p-1 text-xs">⚙️</button>
          <button onclick="enterWithTone('wrazliwy', 'kosmogram')" class="bg-[#9f7aea] text-white rounded p-1 text-xs">🌊</button>
          <button onclick="enterWithTone('opiekun', 'kosmogram')" class="bg-[#fbbf24] text-black rounded p-1 text-xs">🕯️</button>
        </div>
      </div>
    </div>

    <div class="relative group">
      <button class="hover:bg-[#1a1a40] px-3 py-2 rounded flex items-center gap-2 w-full">🔢 <span>Numerologia</span></button>
      <div class="absolute left-[220px] top-0 w-[210px] h-[95px] bg-black/80 text-white p-2 hidden group-hover:flex flex-col items-center justify-center rounded-lg shadow-xl transition duration-300">
        <img src="/img/numerologia.jpg" alt="numerologia" class="w-[210px] h-[55px] object-cover rounded mb-2" onmouseenter="showToneButtons(this)">
        <div class="hidden tone-buttons flex gap-2">
          <button onclick="enterWithTone('zadaniowiec', 'numerologia')" class="bg-[#0ff] text-black rounded p-1 text-xs">⚙️</button>
          <button onclick="enterWithTone('wrazliwy', 'numerologia')" class="bg-[#9f7aea] text-white rounded p-1 text-xs">🌊</button>
          <button onclick="enterWithTone('opiekun', 'numerologia')" class="bg-[#fbbf24] text-black rounded p-1 text-xs">🕯️</button>
        </div>
      </div>
    </div>

    <!-- Sekcje bez trybów -->
    <button class="hover:bg-[#1a1a40] px-3 py-2 rounded flex items-center gap-2 w-full">📊 <span>Kalkulatory (w przygotowaniu)</span></button>
    <button class="hover:bg-[#1a1a40] px-3 py-2 rounded flex items-center gap-2 w-full">✨ <span>Strefa Aerendal</span></button>
  </div>
</div>

<script>
  function showToneButtons(imgEl) {
    const parent = imgEl.closest(".group").querySelector(".tone-buttons");
    if (parent) parent.classList.remove("hidden");
  }

  function enterWithTone(mode, sectionCode) {
    console.log(`Wejście do tematu ${sectionCode} w trybie: ${mode}`);
    // TODO: dynamic loading based on sectionCode + tone
  }
</script>
