# ğŸª USER_REFLECTION_LOGIC.md â€“ Echo sprzed 30 dni

## ğŸ¯ Cel
Stworzenie subtelnego i wartoÅ›ciowego systemu retrospekcji: moÅ¼liwoÅ›Ä‡ powrotu do siebie sprzed 30 dni, z moÅ¼liwoÅ›ciÄ… zapisania do dziennika, eksportu oraz rozwijania Å›cieÅ¼ki refleksji bez presji czy automatycznych analiz.

---

## ğŸ“ Layout (zgodnoÅ›Ä‡ z innymi panelami)

| Element               | Wymiar       | CSS px (96 DPI) |
|----------------------|--------------|------------------|
| Lista wpisÃ³w         | 6 cm Ã— 14 cm | ~230px Ã— 530px   |
| Okno treÅ›ci refleksji| 14 cm Ã— 14 cm| ~530px Ã— 530px   |
| Pasek nagÅ‚Ã³wka       | 1 cm         | ~38px            |

---

## ğŸ§± GÅ‚Ã³wne komponenty

### `slot:reflection_list`
- Lista automatycznie generowanych odniesieÅ„ do wpisÃ³w sprzed 30 dni
- Pokazuje tytuÅ‚, ÅºrÃ³dÅ‚o (czat, dziennik, tarot), datÄ™, tagi

### `slot:reflection_viewer`
- Okno wyÅ›wietlania treÅ›ci wpisu z moÅ¼liwoÅ›ciÄ… dodania wÅ‚asnej refleksji obok
- Zachowane formatowanie, bez opcji modyfikacji oryginaÅ‚u

### `slot:reflection_actions`
- ğŸª¶ Dodaj do dziennika (tworzy nowy wpis z cytatem + komentarzem)
- ğŸ“¥ Eksportuj jako `.md` lub `.pdf`

---

## ğŸ’¡ Styl komunikatÃ³w i UX
- Brak presji, zero â€œkup terazâ€
- Subtelne przypomnienie jeÅ›li subskrypcja wygasa:
  > "Twoje Echo Ciszy dobiega koÅ„ca â€“ chcesz, by jeszcze raz przemÃ³wiÅ‚o?"
- Brak AI analizy â€“ tylko wÅ‚asna refleksja uÅ¼ytkownika
- Funkcja zawsze dostÄ™pna, ale tylko wpisy 30 dni wstecz

---

## ğŸ§  DziaÅ‚anie technologiczne (logika)

### ğŸ“† Harmonogram:
- Codziennie system sprawdza: czy user ma wpis sprzed 30 dni
- JeÅ›li tak â†’ pokazuje go w `reflection_list`

### ğŸ’¾ Przechowywanie:
- Lista przechowywana w `/user_journals/{user}/reflection_index.json`
- TreÅ›Ä‡ Å‚adowana z oryginalnych plikÃ³w (read-only)

### ğŸ“¤ Eksport:
- Do Markdown (`.md`) lokalnie
- Do PDF (jeÅ›li PDF export aktywowany)
- Do dziennika (jako nowy wpis z cytatem + notatkÄ…)

---

## ğŸ“¦ Integracja z subskrypcjÄ… (delikatna)

- Suby = opcja "Echo Echo" (doprecyzowanie starego wpisu + mapa postÄ™pu)
- JeÅ›li `user.subscribed == false`, przycisk ukryty
- Przypomnienie o koÅ„cu suba tylko w obszarze refleksji â€“ bez agresji, tylko elegancja

---

## âœ… Status
Struktura gotowa do zaimplementowania. Sloty zgodne z wymiarami Echo SÅ‚Ã³w i Dziennika. Gotowe do podpiÄ™cia do frontendu i systemu harmonogramu codziennego.
